<div class="card">
    <div class="card-header ps-5 pt-4 pb-4 d-flex justify-content-center align-items-center">
      <h5 class="mb-0">
        <i class="fa-solid fa-user-plus me-3"></i>Actualizar Datos
      </h5>
    </div>
    <div class="card-body p-5 justify-content-center align-items-center">
      <form #f="ngForm">
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">Cédula: </label>
          <div class="col-sm-10">
            <input
              #cedula="ngModel"
              [ngClass]="
                cedula.invalid && (cedula.dirty || cedula.touched)
                  ? 'is-invalid'
                  : ''
              "
              type="text"
              name="cedula"
              class="form-control"
              required
              [(ngModel)]="detallePacienteDTO.cedula"
            />
          </div>
        </div>
  
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">Nombre: </label>
          <div class="col-sm-10">
            <input
              #nombre="ngModel"
              [ngClass]="
                nombre.invalid && (nombre.dirty || nombre.touched)
                  ? 'is-invalid'
                  : ''
              "
              type="text"
              name="nombre"
              class="form-control"
              required
              [(ngModel)]="detallePacienteDTO.nombre"
            />
          </div>
        </div>
  
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">Teléfono: </label>
          <div class="col-sm-10">
            <input
              #telefono="ngModel"
              [ngClass]="
                telefono.invalid && (telefono.dirty || telefono.touched)
                  ? 'is-invalid'
                  : ''
              "
              type="text"
              name="telefono"
              class="form-control"
              required
              [(ngModel)]="detallePacienteDTO.telefono"
            />
          </div>
        </div>
  
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">Foto: </label>
          <div class="col-sm-8">
            <input
              type="file"
              class="form-control"
              name="foto"
              (change)="onFileChange($event)"
            />
          </div>
          <div class="col-sm-2">
            <button
              type="submit"
              [disabled]="archivos == null"
              class="btn btn-primary"
              (click)="subirImagen()"
            >
              <i class="fa-solid fa-cloud-arrow-up me-2"></i>Subir Foto
            </button>
          </div>
        </div>  
          <div class="mb-3 row">
            <label class="col-sm-2 col-form-label">Alergias: </label>
            <div class="col-sm-10">
              <input
                #alergias="ngModel"
                [ngClass]="
                  alergias.invalid && (alergias.dirty || alergias.touched)
                    ? 'is-invalid'
                    : ''
                "
                type="text"
                name="alergias"
                class="form-control"
                required
                [(ngModel)]="detallePacienteDTO.alergias"
              />
            </div>
          </div>
        
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">Ciudad: </label>
          <div class="col-sm-10">
            <select
              name="ciudad"
              required
              class="form-select"
              [(ngModel)]="detallePacienteDTO.ciudad"
            >
              <option value="" selected>Seleccione una ciudad</option>
              <option [value]="item" *ngFor="let item of ciudades; index as i">
                {{ item }}
              </option>
            </select>
          </div>
        </div>
  
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">EPS: </label>
          <div class="col-sm-10">
            <select
              name="eps"
              required
              class="form-select"
              [(ngModel)]="detallePacienteDTO.eps"
            >
              <option value="" selected>Seleccione una eps</option>
              <option [value]="item" *ngFor="let item of eps; index as i">
                {{ item }}
              </option>
            </select>
          </div>
        </div>
  
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">Tipo de sangre: </label>
          <div class="col-sm-10">
            <select
              name="tipoSangre"
              required
              class="form-select"
              [(ngModel)]="detallePacienteDTO.tipoSangre"
            >
              <option value="" selected>Seleccione un tipo de sangre</option>
              <option [value]="item" *ngFor="let item of tiposSangre; index as i">
                {{ item }}
              </option>
            </select>
          </div>
        </div>
  
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">Fecha de nacimiento: </label>
          <div class="col-sm-10">
            <input
              #fechaNacimiento="ngModel"
              [ngClass]="
                fechaNacimiento.invalid &&
                (fechaNacimiento.dirty || fechaNacimiento.touched)
                  ? 'is-invalid'
                  : ''
              "
              type="date"
              name="fechaNacimiento"
              class="form-control"
              required
              [(ngModel)]="detallePacienteDTO.fechaNacimiento"
            />
          </div>
        </div>
        <div class="mb-5 row">
          <label class="col-sm-2 col-form-label">Correo electrónico: </label>
          <div class="col-sm-10">
            <input
              #correo="ngModel"
              [ngClass]="
                correo.invalid && (correo.dirty || correo.touched)
                  ? 'is-invalid'
                  : ''
              "
              type="email"
              name="correo"
              class="form-control"
              required
              email
              [(ngModel)]="detallePacienteDTO.correo"
            />
          </div>
        </div>
  
        <div class="d-flex justify-content-center">
        <button (click)="modificarDatos()" class="btn btn-primary " type="submit">
          <i class="fa-solid fa-circle-plus me-1"></i>Actualizar Datos
        </button>
        <button (click)="eliminar()" class="btn btn-danger " style="margin-left: 20px;" type="submit">
          <i class="fa-solid fa-circle-minus me-1"></i>Eliminar cuenta
        </button>
        <button routerLink="/cambiar-password" class="btn btn-info btn-outline-light   " style="margin-left: 20px;" type="submit">
          <i class="fa-solid fa-circle me-1"></i>Cambiar Contraseña
        </button>
      </div>
      
      <app-alerta [alerta]="alerta"></app-alerta>
      </form>
    </div>
  </div>
  